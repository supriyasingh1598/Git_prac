<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE Rule PUBLIC "sailpoint.dtd" "sailpoint.dtd">
<Rule   language="beanshell"  name="IdentityAttribute: Contractors" type="IdentityAttribute">
  <Description>Identity attribute rules are used in conditions where we don't have a one-to-one mapping between attribute and value and where multiple attributes might have to be used to define the value of an identity attribute.

A global rule is called for each identity that is processed. A global rule can use the Identity's Link objects to get at the tribute values necessary to derive the identity attribute value.

In this example the rule checks two account attributes to derive the value. First check with the hr app's job code then check the ad account's description field.</Description>
  <Signature returnType="String">
    <Inputs>
      <Argument name="log">
        <Description>
          The log object associated with the SailPointContext.
        </Description>
      </Argument>
      <Argument name="context">
        <Description>
          A sailpoint.api.SailPointContext object that can be used to query the database if necessary.
        </Description>
      </Argument>
      <Argument name="environment" type="Map">
        <Description>
           Arguments passed to the aggregation or refresh task.
        </Description>
      </Argument>
      <Argument name="identity">
        <Description>
           The Identity object that represents the user
           that is being aggregated.
        </Description>
      </Argument>
      <Argument name="attributeDefinition">
        <Description>
           The AttributeDefinition object for this attribute.
        </Description>
      </Argument>
    </Inputs>
    <Returns>
      <Argument name="attributeValue">
        <Description>
          The value of the attribute that should be populated.
          The rule should return this value.
        </Description>
      </Argument>
    </Returns>
  </Signature>
  <Source>return "Contractor"; </Source>
</Rule>
